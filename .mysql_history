_HiStOrY_V2_
show\040databases
1
q
quit
\134c
show\040databases\040\040\040\040\040\0401\040q\040quit\040\040
show\040databeses;
show\040databases;
create\040database\040madcamp
\134c
create\040database\040madcamp\040
create\040database\040madcamp;
show\040databases;
use\040madcamp
create\040table\040items\040(
id\040int\040auto_increment\040primary\040key
,
user_name\040varchar(10),
item_name\040varchar(10),
item_price\040int);
create\040table\040items\040(\040id\040int\040auto_increment\040primary\040key\040,\040user_name\040varchar(10),\040item_name\040varchar(10),\040item_price\040int);
show\040tables
;
desc
items;
desc\040items;
insert\040into\040items(user_name,\040item_name,\040item_price)
values("김민희",\040"마가렛트",\040100);
insert\040into\040items(user_name,\040item_name,\040item_price)\040values("김민희",\040"마가렛트",\040100);
insert\040into\040items(user_name,\040item_name,\040item_price)\040values("mini",\040"chocolate",\040100);
desc\040items;
select\040*\040from\040items
;
show\040databases;
use\040mysql
;
SELECT\040user,\040host,\040plugin\040FROM\040user;
q
;
exit
use\040mysql
;
quit
use\040mysql
select\040user,\040host\040from\040user;
delete\040from\040user\040where\040user='mini'
;
select\040user,\040host\040from\040user;
;
grant\040all\040privileges\040on\040*.*\040to\040mini@localhost;
quit
show\040databases;
use\040madcamp
show\040all
;
show\040databases;
use\040madcamp
DESC\040items
;
SELECT\040*\040FROM\040items
;
show\040databases
;
use\040madcamp
CREATE\040TABLE\040users\040(
id\040varchar(60)\040primary\040key\040not\040null,
;
CREATE\040TABLE\040users\040(\040id\040varchar(60)\040primary\040key\040not\040null,;
show\040variables\040like\040'datadir%'
;
show\040tables
;
CREATE\040TABLE\040users\040(
id\040varchar(60)\040primary\040key\040not\040null,
name\040varchar(20)\040not\040null,
nickname\040varchar(30)\040not\040null,
email\040varchar(30)\040not\040null,
mobile\040varchar(15)\040not\040null\040)
;
CREATE\040TABLE\040users\040(\040id\040varchar(60)\040primary\040key\040not\040null,\040name\040varchar(20)\040not\040null,\040nickname\040varchar(30)\040not\040null,\040email\040varchar(30)\040not\040null,\040mobile\040varchar(15)\040not\040null\040);
show\040tables;
DESC\040users
;
ALTER\040TABLE\040users\040CONVERT\040TO\040CHARSET\040UTF8;
select\040*\040from\040users
;
select\040*\040from\040users
;
show\040databases
;
use\040madcamp
show\040tables;
DESC\040users;
ALTER\040TABLE\040users\040ADD\040place\040VARCHAR(10)\040NOT\040NULL
;
DESC\040users;
show\040databases
;
use\040madcamp
show\040tables
;
desc\040items;
DROP\040TABLE\040items;
show\040tables;
create\040table\040items\040(
item_id\040int\040primary\040key\040auto_increment,
user_name\040varchar(20)\040not\040null,
post_time\040timestamp\040not\040null,
item_image\040mediumblob,
item_name\040varchar(30)\040not\040null,
item_place\040varchar(10)\040not\040null,
item_date_start\040date\040not\040null,
item_date_end\040date\040not\040null,
item_price\040int\040not\040null,
item_description\040text,
foreign\040key
(user_name)\040references\040users(id));
create\040table\040items\040(\040item_id\040int\040primary\040key\040auto_increment,\040user_name\040varchar(20)\040not\040null,\040post_time\040timestamp\040not\040null,\040item_image\040mediumblob,\040item_name\040varchar(30)\040not\040null,\040item_place\040varchar(10)\040not\040null,\040item_date_start\040date\040not\040null,\040item_date_end\040date\040not\040null,\040item_price\040int\040not\040null,\040item_description\040text,\040foreign\040key\040(user_name)\040references\040users(id));
create\040table\040items\040(\040item_id\040int\040primary\040key\040auto_increment,\040user_id\040varchar(60)\040not\040null,\040post_time\040timestamp\040not\040null,\040item_image\040mediumblob,\040item_name\040varchar(30)\040not\040null,\040item_place\040varchar(10)\040not\040null,\040item_date_start\040date\040not\040null,\040item_date_end\040date\040not\040null,\040item_price\040int\040not\040null,\040item_description\040text,\040foreign\040key\040(user_id)\040references\040users(id));
DESC\040users
;
create\040table\040items\040(\040item_id\040int\040primary\040key\040auto_increment,\040user_id\040varchar(60)\040not\040null,\040post_time\040timestamp\040not\040null,\040item_image\040mediumblob,\040item_name\040varchar(30)\040not\040null,\040item_place\040varchar(10)\040not\040null,\040item_date_start\040date\040not\040null,\040item_date_end\040date\040not\040null,\040item_price\040int\040not\040null,\040item_description\040text,\040foreign\040key\040(user_id)\040references\040`users`(`id`));
create\040table\040items\040(\040item_id\040int\040primary\040key\040auto_increment,\040user_id\040varchar(60)\040not\040null,\040post_time\040timestamp\040not\040null,\040item_image\040mediumblob,\040item_name\040varchar(30)\040not\040null,\040item_place\040varchar(10)\040not\040null,\040item_date_start\040date\040not\040null,\040item_date_end\040date\040not\040null,\040item_price\040int\040not\040null,\040item_description\040text);
DESC\040items
;
alter\040table\040items\040drop\040user_id
;
alter\040table\040items\040add\040foreign\040key\040user_id\040references\040users\040('id')\040after\040item_id;
alter\040table\040items\040add\040foreign\040key\040user_id\040references\040users\040(id)\040after\040item_id;
alter\040table\040items\040add\040foreign\040key\040user_id\040varchar(60)\040references\040users\040(id)\040after\040item_id;
alter\040table\040items\040add\040user_id\040varchar(60)\040after\040item_id;
DESC\040items;
alter\040table\040items\040modify\040column\040user_id\040varchar(60)\040not\040null;
DESC\040items;
alter\040table\040items\040add\040foreign\040key\040(user_id)\040references\040users(id);
alter\040table\040items\040add\040foreign\040key(user_id)\040references\040users(id);
alter\040database\040madcamp\040default\040character\040set\040utf8\040collate\040utf8_general_ci;
alter\040table\040items\040add\040foreign\040key(user_id)\040references\040users(id);
create\040database\040madcamp\040default\040character\040set\040utf8\040collate\040utf8_general_ci;
show\040create\040table\040users
;
show\040create\040table\040items;
alter\040table\040items\040default\040character\040set\040utf8\040collate\040utf8_general_ci;
show\040create\040table\040items;
alter\040table\040items\040add\040foreign\040key(user_id)\040references\040users(id);
alter\040table\040items\040add\040foreign\040key\040(user_id)\040references\040users\040(id);
alter\040table\040items\040add\040foreign\040key\040(user_id)\040references\040users(id);
show\040create\040table\040items;
show\040create\040table\040users;
alter\040table\040items\040convert\040to\040character\040set\040to\040utf8;
alter\040table\040items\040convert\040to\040character\040set\040utf8;
show\040create\040table\040users;
show\040create\040table\040items;
alter\040table\040items\040add\040foreign\040key\040(user_id)\040references\040users\040(id);
DESC\040items;
show\040databases
;
use\040madcamp
show\040tables;
CREATE\040TABLE\040contracts\040(
from\040VARCHAR(60)\040primary\040key,
to\040VARCHAR(60)\040primary\040key,
)
;
CREATE\040TABLE\040contracts\040(\040from\040VARCHAR(60)\040primary\040key,\040to\040VARCHAR(60)\040primary\040key,\040);
CREATE\040TABLE\040contracts\040(\040from\040VARCHAR(60)\040primary\040key,\040to\040VARCHAR(60)\040primary\040key\040);
DESC\040items
;
DESC\040users;
CREATE\040TABLE\040contracts\040(
from\040varchar(60),
to\040varchar(60),
item\040int,
contract_time\040timestamp)
;
CREATE\040TABLE\040contracts\040(\040from\040varchar(60),\040to\040varchar(60),\040item\040int,\040contract_time\040timestamp);
CREATE\040TABLE\040contracts\040(\040from\040varchar(60),\040to\040varchar(60),\040item\040int,\040contract_time\040timestamp,\040PRIMARY\040KEY\040(from,\040to,\040item));
CREATE\040TABLE\040contracts\040(
from\040VARCHAR(60),
;
CREATE\040TABLE\040contracts\040(\040from\040VARCHAR(60),;
CREATE\040TABLE\040contracts\040(\040from_user\040VARCHAR(60),
to_user\040VARCHAR(60),
contract_item\040INT,
contract_time\040TIMESTAMP,
PRIMARY\040KEY(from_user,\040to_user,\040contract_item)
);
CREATE\040TABLE\040contracts\040(\040from_user\040VARCHAR(60),\040to_user\040VARCHAR(60),\040contract_item\040INT,\040contract_time\040TIMESTAMP,\040PRIMARY\040KEY(from_user,\040to_user,\040contract_item)\040);
show\040tables
;
DESC\040contracts
;
ALTER\040TABLE\040contracts\040ADD\040FOREIGN\040KEY(from_user)\040REFERENCES\040users(id);
ALTER\040TABLE\040contracts\040ADD\040FOREIGN\040KEY(to_user)\040REFERENCES\040users(id);
ALTER\040TABLE\040contracts\040ADD\040FOREIGN\040KEY(contract_item)\040REFERENCES\040items(item_id);
DESC\040contracts;
select\040*\040from\040information_schema.table_constraints\040where\040table_name\040=\040contracts;
select\040*\040from\040information_schema.table_constraints\040where\040table_name\040=\040'contracts';
select\040*\040from\040information_schema.table_ctable_constraints;
select\040*\040from\040information_schema.table_table_constraints;
select\040*\040from\040information_schema.table_constraints;
DESC\040contracts;
CREATE\040TABLE\040chattingroom\040(
room_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,
user1_id\040VARCHAR(60)\040NOT\040NULL,
user2_id\040VARCHAR(60)\040NOT\040NULL,
FOREIGN\040KEY\040('user1_id')\040REFERENCES\040users('id'),
FOREIGN\040KEY\040('user2_id')\040REFERENCES\040users('id'))
;
CREATE\040TABLE\040chattingroom\040(\040room_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,\040user1_id\040VARCHAR(60)\040NOT\040NULL,\040user2_id\040VARCHAR(60)\040NOT\040NULL,\040FOREIGN\040KEY\040('user1_id')\040REFERENCES\040users('id'),\040FOREIGN\040KEY\040('user2_id')\040REFERENCES\040users('id'));
CREATE\040TABLE\040chattingroom\040(\040room_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,\040user1_id\040VARCHAR(60)\040NOT\040NULL,\040user2_id\040VARCHAR(60)\040NOT\040NULL,\040FOREIGN\040KEY\040('user1_id')\040REFERENCES\040'users'('id'),\040FOREIGN\040KEY\040('user2_id')\040REFERENCES\040'users'('id'));
CREATE\040TABLE\040chattingroom\040(\040room_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,\040user1_id\040VARCHAR(60)\040NOT\040NULL,\040user2_id\040VARCHAR(60)\040NOT\040NULL,\040FOREIGN\040KEY\040(user1_id)\040REFERENCES\040users(id),\040FOREIGN\040KEY\040(user2_id)\040REFERENCES\040users(id));
DESC\040chatting_room;
DESC\040chattingroom;
RENAME\040TABLE\040chattingroom\040TO\040chatting_room;
DESC\040chatting_room;
CREATE\040TABLE\040chatting_message\040(
message_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,
room_id\040INT,
timestamp\040TIMESTAMP,
from_user\040VARCHAR(60),
content\040MEDIUMTEXT,
FOREIGN\040KEY(roon_id)\040references\040chatting_room(room_id),
FOREIGN\040KEY(from_user)\040references\040users(id));
CREATE\040TABLE\040chatting_message\040(\040message_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,\040room_id\040INT,\040timestamp\040TIMESTAMP,\040from_user\040VARCHAR(60),\040content\040MEDIUMTEXT,\040FOREIGN\040KEY(roon_id)\040references\040chatting_room(room_id),\040FOREIGN\040KEY(from_user)\040references\040users(id));
CREATE\040TABLE\040chatting_message\040(\040message_id\040INT\040PRIMARY\040KEY\040AUTO_INCREMENT,\040room_id\040INT,\040timestamp\040TIMESTAMP,\040from_user\040VARCHAR(60),\040content\040MEDIUMTEXT,\040FOREIGN\040KEY(room_id)\040references\040chatting_room(room_id),\040FOREIGN\040KEY(from_user)\040references\040users(id));
DESC\040chatting_message
;
ALTER\040TABLE\040chatting_message\040MODIFY\040COLUMN\040room_id\040INT\040NOT\040NULL;
DESC\040chatting_message;
ALTER\040TABLE\040chatting_message\040MODIFY\040COLUMN\040from_user\040VARCHAR(60)\040NOT\040NULL;
DESC\040chatting_message;
DESC\040contracts;
show\040tables;
DESC\040users
;
DESC\040items;
DESC\040users;
DESC\040items;
DESC\040contracts;
DESC\040chatting_room;
DESC\040chatting_message;
use\040madcamp;
show\040tables
;
DELETE\040FROM\040users\040WHERE\040id='ymDmyOnGRReUEE8TSopHZk0YW0XFVGrYD-H3rLfjIP8';
DELETE\040FROM\040users\040WHERE\040id='x3n7UQdmtP-5chFwbPNv6J2Xs-9I6yB9Ju-7RFc64Us';
DESC\040items
;
ALTER\040TABLE\040items\040ADD\040availiable\040INT\040NOT\040NULL;
DESC\040items;
ALTER\040TABLE\040items\040CHANGE\040availiable\040available\040INT;
DESC\040items;
DESC\040contracts
;
ALTER\040TABLE\040contracts\040ADD\040confirm\040INT\040NOT\040NULL;
DESC\040contracts;
DESC\040items;
DESC\040confirms;
DESC\040contracts;
use\040madcamp
DESC\040items;
SELECT\040*\040FROM\040items;
use\040madcamp
DESC\040contracts
;
DESC\040items;
DESC\040users;
use\040madcamp
DESC\040items;
DESC\040contracts;
DESC\040items;
ALTER\040TABLE\040items\040MODIFY\040item_place\040varchar(20);
DESC\040items;
SELECT\040to_user\040FROM\040contracts\040JOIN\040users\040ON(users.id\040=\040contracts.to_user)
;
SELECT\040*\040FROM\040contracts\040JOIN\040users\040ON(users.id\040=\040contracts.to_user)
;
use\040madcamp
DESC\040chatting_room;
DESC\040users;
quit
